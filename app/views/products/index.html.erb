<div class="flex flex-col">
  <%= form_with model: @product, method: :get, html: {class: "flex justify-center items-center gap-1"} do |form| %>
    <%= form.label :term, "Search by:" %>
    <%= form.text_field :term %>
    <%= form.submit "Search" %>
  <% end %>

  <div class="grid grid-cols-4 gap-2 p-2">
    <% if @products.empty? %>
      <p class="text-4xl text-red-500">No Records Found</p>
    <% else %>
      <% @products.each do |product| %>
        <%= render partial: "product_cart", locals: { product: product, order_line: @order_line }%>
      <% end %>
    <% end %>

    <% if policy(@products).create? %>
      <button class="flex flex-col p-2 gap-2 text-lg border-2 border-slate-300">
        <%= link_to "New Product", new_product_path %>
      </button>
    <% end %>

    <% if current_user&.admin? %>
      <button class="flex flex-col p-2 gap-2 text-lg border-2 border-slate-300">
        <%= link_to "See logs", logs_path %>
      </button>
    <% end %>
  </div>
</div>

